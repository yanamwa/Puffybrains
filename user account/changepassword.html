<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password</title>
    <link rel="stylesheet" href="forgotpass.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+15&display=swap" rel="stylesheet">   

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


</head>

<body>

    <!-- NEW WRAPPER -->
    <div class="wrapper">

        <!-- CONTAINER WITH BORDER RADIUS -->
        <section class="container">

            <!-- TOP NAVBAR -->
            <header class="navbar">
            <div class="logo-section">
        <img src="../images/logo.png" alt="Logo">
    </div>

                <nav class="nav-links">
                    <li><a href="/index.html">Home</a></li>
                    <li><a href="../header/About Us/AboutUs.html">About</a></li>
                    <li><a href="../header/faq.html">FAQ</a></li>
                </nav>


       <div class="nav-actions" style="text-decoration: none; ">
    <a href="../user account/signup.html" class="start-btn">Start Learning</a>
</div>
            </header>

            <!-- BACKGROUND -->
            <div class="background"></div>

            <!-- FORGOT PASSWORD CARD -->
            <div class="forgot-card">
                <h2>Change Password</h2>
    
<label>New Password</label>
<div class="input-box">
    <input id="password1" type="password" placeholder="Enter your password" required>
    <i class="fa-solid fa-eye toggle-eye" onclick="togglePassword('password1', this)"></i>
</div>

<label>Confirm Password</label>
<div class="input-box">
    <input id="password2" type="password" placeholder="Confirm your password" required>
    <i class="fa-solid fa-eye toggle-eye" onclick="togglePassword('password2', this)"></i>
</div>
                <button class="submit-btn">Submit</button>
    
                <p class="login-text">
                    Already remembered? <a href="../user account/login.html">Login</a>
                </p>
            </div>

        </section>
    </div>

</body>
</html>

<script>

// VALIDATION BEFORE SUBMIT
document.querySelector('.submit-btn').addEventListener('click', function (e) {
    e.preventDefault();

    let pass1 = document.getElementById("password1").value.trim();
    let pass2 = document.getElementById("password2").value.trim();

    // PASSWORD TOO SHORT
    if (pass1.length < 12) {
        Swal.fire({
            imageUrl: "../images/error.png",
            imageWidth: 170,
            imageHeight: 170,
            title: "Password Too Short",
            text: "Your password must be at least 12 characters long.",
            customClass: {
                popup: "my-popup",
                confirmButton: "my-confirm-btn",
                title: "my-title",
                htmlContainer: "my-text",
                image: "my-img"
            }
        });
        return;
    }

    // PASSWORDS DO NOT MATCH
    if (pass1 !== pass2) {
        Swal.fire({
            imageUrl: "../images/error.png",
            imageWidth: 170,
            imageHeight: 170,
            title: "Passwords Don't Match",
            text: "Please make sure both passwords are the same.",
            customClass: {
                popup: "my-popup",
                confirmButton: "my-confirm-btn",
                title: "my-title",
                htmlContainer: "my-text",
                image: "my-img"
            }
        });
        return;
    }

    // SUCCESS
    Swal.fire({
        title: "Password has been changed",
        imageUrl: "../images/3.png",
        imageWidth: 200,
        imageHeight: 200,
        customClass: {
            popup: "my-popup",
            confirmButton: "my-confirm-btn",
            title: "my-title",
            htmlContainer: "my-text",
            image: "my-img"
        },
        confirmButtonText: "OK",
    }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = "login.html";
        }
    });

});

// SHOW / HIDE PASSWORD
function togglePassword(inputId, icon) {
    let field = document.getElementById(inputId);

    if (field.type === "password") {
        field.type = "text";
        icon.classList.replace("fa-eye", "fa-eye-slash");
    } else {
        field.type = "password";
        icon.classList.replace("fa-eye-slash", "fa-eye");
    }
}

</script>

